
<div class="container-fluid">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2><i class="fas fa-clipboard-list me-2"></i>Daily Logs for {{ resident.name }}</h2>
        <div>
            <a href="{{ url_for('daily_log_wizard', resident_id=resident.id) }}" class="btn btn-success">
                <i class="fas fa-plus me-2"></i>Add Daily Log
            </a>
        </div>
    </div>

    <!-- Date Navigation -->
    <div class="row mb-4">
        <div class="col-md-6">
            <div class="input-group">
                <span class="input-group-text"><i class="fas fa-calendar"></i></span>
                <input type="date" class="form-control" value="{{ log_date.isoformat() }}" 
                       onchange="window.location.href='{{ url_for('daily_logs', resident_id=resident.id) }}?date=' + this.value">
            </div>
        </div>
        <div class="col-md-6 text-end">
            <div class="btn-group">
                <a href="{{ url_for('daily_logs', resident_id=resident.id) }}?date={{ prev_date }}" class="btn btn-outline-primary">
                    <i class="fas fa-chevron-left"></i> Previous Day
                </a>
                <a href="{{ url_for('daily_logs', resident_id=resident.id) }}?date={{ next_date }}" class="btn btn-outline-primary">
                    Next Day <i class="fas fa-chevron-right"></i>
                </a>
            </div>
        </div>
    </div>

    <h4>Logs for {{ log_date.strftime('%B %d, %Y') }}</h4>

    {% if missing_logs %}
    <div class="alert alert-warning">
        <h5><i class="fas fa-exclamation-triangle me-2"></i>Missing Logs</h5>
        <ul class="mb-0">
            {% for log in missing_logs %}
            <li>{{ log }}</li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}

    <!-- Vitals Section -->
    {% if vitals %}
    <div class="card mb-3">
        <div class="card-header">
            <h5><i class="fas fa-heartbeat me-2"></i>Vitals (Breakfast)</h5>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-4">
                    <strong>Blood Pressure:</strong> {{ vitals.systolic }}/{{ vitals.diastolic }} mmHg
                </div>
                <div class="col-md-4">
                    <strong>Pulse:</strong> {{ vitals.pulse }} bpm
                </div>
            </div>
        </div>
    </div>
    {% endif %}

    <!-- Food Intake Section -->
    <div class="card mb-3">
        <div class="card-header">
            <h5><i class="fas fa-utensils me-2"></i>Food Intake</h5>
        </div>
        <div class="card-body">
            {% if food_intakes %}
            <div class="row">
                {% for food in food_intakes %}
                <div class="col-md-4 mb-2">
                    <div class="p-2 border rounded">
                        <strong>{{ food.meal_type.title() }}:</strong> {{ food.intake_level }}
                        {% if food.notes %}
                        <br><small class="text-muted">{{ food.notes }}</small>
                        {% endif %}
                    </div>
                </div>
                {% endfor %}
            </div>
            {% else %}
            <p class="text-muted">No food intake recorded for this date.</p>
            {% endif %}
        </div>
    </div>

    <!-- Liquid Intake Section -->
    <div class="card mb-3">
        <div class="card-header">
            <h5><i class="fas fa-tint me-2"></i>Liquid Intake</h5>
        </div>
        <div class="card-body">
            {% if liquid_intakes %}
            <div class="row">
                {% for liquid in liquid_intakes %}
                <div class="col-md-4 mb-2">
                    <div class="p-2 border rounded">
                        <strong>{{ liquid.meal_type.title() }}:</strong> {{ liquid.intake }}
                    </div>
                </div>
                {% endfor %}
            </div>
            {% else %}
            <p class="text-muted">No liquid intake recorded for this date.</p>
            {% endif %}
        </div>
    </div>

    <!-- Bowel Movement Section -->
    <div class="card mb-3">
        <div class="card-header">
            <h5><i class="fas fa-toilet me-2"></i>Bowel Movements</h5>
        </div>
        <div class="card-body">
            {% if bowel_movements %}
            <div class="row">
                {% for bowel in bowel_movements %}
                <div class="col-md-4 mb-2">
                    <div class="p-2 border rounded">
                        <strong>{{ bowel.meal_type.title() }}:</strong> {{ bowel.size }}, {{ bowel.consistency }}
                    </div>
                </div>
                {% endfor %}
            </div>
            {% else %}
            <p class="text-muted">No bowel movements recorded for this date.</p>
            {% endif %}
        </div>
    </div>

    <!-- Urine Output Section -->
    <div class="card mb-3">
        <div class="card-header">
            <h5><i class="fas fa-droplet me-2"></i>Urine Output</h5>
        </div>
        <div class="card-body">
            {% if urine_outputs %}
            <div class="row">
                {% for urine in urine_outputs %}
                <div class="col-md-4 mb-2">
                    <div class="p-2 border rounded">
                        <strong>{{ urine.meal_type.title() }}:</strong> {{ urine.output }}
                    </div>
                </div>
                {% endfor %}
            </div>
            {% else %}
            <p class="text-muted">No urine output recorded for this date.</p>
            {% endif %}
        </div>
    </div>
</div>
